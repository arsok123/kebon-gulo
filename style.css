<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galeri Simple</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="galeri">
  <img src="img/hero.png" alt="Galeri 1">
  <img src="img/hero2.png" alt="Galeri 2">
  <img src="img/hero3.png" alt="Galeri 3">
  <img src="img/hero4.png" alt="Galeri 4">
  <img src="img/hero5.png" alt="Galeri 5">
</div>

<div id="lightbox">
  <span class="close" onclick="closeLightbox()">&times;</span>
  <img src="" alt="Gambar Besar">
  <div>
    <button class="nav-btn" onclick="prevImage()">&#10094; Prev</button>
    <button class="nav-btn" onclick="nextImage()">Next &#10095;</button>
  </div>
  <div id="thumbnails"></div>
</div>

<script>
const lightbox = document.getElementById('lightbox');
const lightboxImg = lightbox.querySelector('img');
const galeriImages = document.querySelectorAll('.galeri img');
const thumbnailsContainer = document.getElementById('thumbnails');
let currentIndex = 0;
let slideInterval;

// buat thumbnail
galeriImages.forEach((img, index) => {
  const thumb = document.createElement('img');
  thumb.src = img.src;
  thumb.alt = img.alt;
  thumb.addEventListener('click', () => showImage(index));
  thumbnailsContainer.appendChild(thumb);
});

function showImage(index) {
  currentIndex = index;
  const thumbs = thumbnailsContainer.querySelectorAll('img');
  thumbs.forEach(t => t.classList.remove('active'));
  thumbs[currentIndex].classList.add('active');

  lightboxImg.style.opacity = 0;
  lightboxImg.style.transform = 'scale(0.8)';
  setTimeout(() => {
    lightboxImg.src = galeriImages[currentIndex].src;
    lightboxImg.alt = galeriImages[currentIndex].alt;
    lightboxImg.style.transform = 'scale(1)';
    lightboxImg.style.opacity = 1;
  }, 100);
}

function openLightbox(index) {
  lightbox.style.display = 'flex';
  showImage(index);
  startSlideshow();
}

function closeLightbox() { 
  lightbox.style.display = 'none'; 
  stopSlideshow();
}

function prevImage() { showImage((currentIndex - 1 + galeriImages.length) % galeriImages.length); }
function nextImage() { showImage((currentIndex + 1) % galeriImages.length); }

galeriImages.forEach((img, index) => {
  img.addEventListener('click', () => openLightbox(index));
});

// Auto slideshow
function startSlideshow() { slideInterval = setInterval(nextImage, 4000); }
function stopSlideshow() { clearInterval(slideInterval); }

// Swipe support
let startX = 0;
lightboxImg.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
lightboxImg.addEventListener('touchend', e => {
  const endX = e.changedTouches[0].clientX;
  if(endX - startX > 50) prevImage();
  else if(startX - endX > 50) nextImage();
});
</script>

</body>
</html>
